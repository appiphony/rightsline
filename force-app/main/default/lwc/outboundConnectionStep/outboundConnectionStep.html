<template>
    <c-step
        header="Connect Salesforce to Rightsline"
        back-hidden
        container-size="small"
        onnext={handleNext}
    >
        <div slot="description">
            <p>Enter your Rightsline <strong>API Key</strong>, <strong>Access Key</strong>, and <strong>Secret Key</strong> to allow Salesforce to sync data from your Rightsline account. These credentials can be found in <strong>My Account</strong> in Rightsline. You can always return to this step to deauthorize this connection.</p>
        </div>

        <lightning-spinner 
            if:true={loading}
            alternative-text="spinner"
        ></lightning-spinner>

        <div class="slds-var-p-around_medium">
            <div class="slds-form-element slds-var-m-bottom_small">
                <lightning-input
                    class="js-apiKey"
                    label="API Key"
                    value={setupMetadata.Api_Key__c}
                    required
                    disabled={isComplete}>
                </lightning-input>
                <lightning-input
                    class="js-accessKey"
                    label="Access Key"
                    value={setupMetadata.Access_Key__c}
                    required
                    disabled={isComplete}>
                </lightning-input>
                <lightning-input
                    class="js-secretKey"
                    label="Secret Key"
                    value={setupMetadata.Secret_Key__c}
                    required
                    disabled={isComplete}>
                </lightning-input>
            </div>
            <c-connector onauth={authorize} ondeauth={deauthorize} is-complete={isComplete}>
            </c-connector>
        </div>
    </c-step>
</template>